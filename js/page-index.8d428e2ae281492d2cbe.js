(()=>{"use strict";var __webpack_modules__={31099:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var _babel_runtime_corejs3_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34963),_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(44828),_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(96319),_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(49763),_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(165),_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(86226),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(64007),_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(385),_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(61240),_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8__),_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11393),_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9__),_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(59261),_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_10__),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(48079),_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11__),_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(11265),_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_12__),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(56255),_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13__);(function(){window.__pageDelegationBound||(window.__pageDelegationBound=!0,window.closeMobileMenu=function(){var _=document.getElementById("mobileNav");_&&(_.style.display="none")},window.cleanupPageScripts=function(_){var e=document.querySelector('script[data-page-script="page-'.concat(_,'.js"]'));if(e&&e.remove(),window.pageScriptExecuted&&delete window["pageScriptExecuted_".concat(_)],window["pageInitialized_".concat(_)]&&delete window["pageInitialized_".concat(_)],window.executedInlineScripts){var t,r=_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_2___default()(t=_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3___default()(window.executedInlineScripts)).call(t,function(e){return _babel_runtime_corejs3_core_js_stable_instance_starts_with__WEBPACK_IMPORTED_MODULE_4___default()(e).call(e,"".concat(_,"_inline_"))});_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(r).call(r,function(_){return window.executedInlineScripts.delete(_)})}if(window.loadedPageScripts){var a,n,c=_babel_runtime_corejs3_core_js_stable_instance_index_of__WEBPACK_IMPORTED_MODULE_6___default()(a=window.loadedPageScripts).call(a,_);c>-1&&_babel_runtime_corejs3_core_js_stable_instance_splice__WEBPACK_IMPORTED_MODULE_7___default()(n=window.loadedPageScripts).call(n,c,1)}"home"===_&&(window.contentPageLoaded=!1,window.canvasSectionInitialized=!1,window.isTransferring=!1,window.transferLock=!1)},window.loadPageScript=function(_){return new(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default())(function(e){if("page-content.js"!==_||"function"!=typeof window.transferToTShirt){var t=document.querySelector('script[data-page-script="'.concat(_,'"]'));t&&t.remove();var r=document.createElement("script");r.src="/js/".concat(_),r.setAttribute("data-page-script",_),r.onload=e,r.onerror=function(){e()},document.body.appendChild(r)}else e()})},window.loadPage=function(){var _ref=(0,_babel_runtime_corejs3_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.A)(_babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee(page){var content,cleanupMap,cleanupFnName,_context4,_context5,htmlPath,response,html,parser,doc,styles,scripts,promises,_t;return _babel_runtime_corejs3_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(content=document.getElementById("dynamic-content"),content){_context9.next=1;break}return _context9.abrupt("return");case 1:return"function"==typeof window.cleanupCurrentPage&&window.cleanupCurrentPage(),cleanupMap={merch:"cleanupMerchPage",content:"cleanupContentPage",profile:"cleanupProfilePage",home:"cleanupHomePage"},cleanupFnName=cleanupMap[window.currentPage],cleanupFnName&&"function"==typeof window[cleanupFnName]&&window[cleanupFnName](),window.currentPage&&window.currentPage!==page&&cleanupPageScripts(window.currentPage),content.classList.add("fade-out"),_context9.prev=2,htmlPath="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"/pages/".concat(page,".html"):"".concat(page,".html"),_context9.next=3,fetch(htmlPath);case 3:if(response=_context9.sent,response.ok){_context9.next=4;break}throw new Error(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context4="HTTP ".concat(response.status,": ")).call(_context4,response.statusText));case 4:return _context9.next=5,response.text();case 5:return html=_context9.sent,parser=new DOMParser,doc=parser.parseFromString(html,"text/html"),styles=doc.querySelectorAll("style"),_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(styles).call(styles,function(_){var e=document.querySelectorAll("style[data-page]");_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_5___default()(e).call(e,function(_){_.getAttribute("data-page")!==page&&_.remove()});var t=document.querySelector('style[data-page="'.concat(page,'"]'));t&&t.remove();var r=document.createElement("style");r.textContent=_.textContent,r.setAttribute("data-page",page),document.head.appendChild(r)}),content.innerHTML=doc.body.innerHTML||html,window.currentPage=page,_context9.next=6,loadPageScript("page-".concat(page,".js"));case 6:return scripts=content.querySelectorAll("script"),window.executedInlineScripts||(window.executedInlineScripts=new(_babel_runtime_corejs3_core_js_stable_set__WEBPACK_IMPORTED_MODULE_10___default())),promises=_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_11___default()(_context5=_babel_runtime_corejs3_core_js_stable_array_from__WEBPACK_IMPORTED_MODULE_3___default()(scripts)).call(_context5,function(script,idx){return new(_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default())(function(resolve){var _context6;if(script.src){var s=document.createElement("script");s.src=script.src,s.onload=resolve,s.onerror=function(){return resolve()},document.body.appendChild(s)}else if(_babel_runtime_corejs3_core_js_stable_instance_trim__WEBPACK_IMPORTED_MODULE_12___default()(_context6=script.textContent).call(_context6)){var _context7,id=_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context7="".concat(page,"_inline_")).call(_context7,idx);if(!window.executedInlineScripts.has(id)){window.executedInlineScripts.add(id);try{var _context8;eval(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_9___default()(_context8="(function(){if(window.pageInitialized_".concat(page,")return;")).call(_context8,script.textContent,"})()"))}catch(_){}}resolve()}else resolve()})}),_context9.next=7,_babel_runtime_corejs3_core_js_stable_promise__WEBPACK_IMPORTED_MODULE_8___default().all(promises);case 7:window["pageInitialized_".concat(page)]=!0,_context9.next=9;break;case 8:_context9.prev=8,_t=_context9.catch(2),content.innerHTML="<p>页面加载失败: ".concat(_t.message,"</p>");case 9:return _context9.prev=9,content.classList.remove("fade-out"),closeMobileMenu(),_context9.finish(9);case 10:"profile"===page&&_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13___default()(function(){return window.dispatchEvent(new CustomEvent("profilePageLoaded"))},100),"gallery"===page&&_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13___default()(function(){"function"==typeof initGallery?initGallery():_babel_runtime_corejs3_core_js_stable_set_timeout__WEBPACK_IMPORTED_MODULE_13___default()(function(){"function"==typeof initGallery&&initGallery()},500)},200);case 11:case"end":return _context9.stop()}},_callee,null,[[2,8,9,10]])}));return function(_){return _ref.apply(this,arguments)}}(),document.addEventListener("click",function(_){var e=_.target.closest("[data-page]");e&&(_.preventDefault(),window.loadPage(e.dataset.page))}),document.addEventListener("gesturestart",function(_){return _.preventDefault()}),window.loadPage("home"))})()}},__webpack_module_cache__={},deferred;function __webpack_require__(_){var e=__webpack_module_cache__[_];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[_]={exports:{}};return __webpack_modules__[_].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(_,e,t,r)=>{if(!e){var a=1/0;for(s=0;s<deferred.length;s++){for(var[e,t,r]=deferred[s],n=!0,c=0;c<e.length;c++)(!1&r||a>=r)&&Object.keys(__webpack_require__.O).every(_=>__webpack_require__.O[_](e[c]))?e.splice(c--,1):(n=!1,r<a&&(a=r));if(n){deferred.splice(s--,1);var o=t();void 0!==o&&(_=o)}}return _}r=r||0;for(var s=deferred.length;s>0&&deferred[s-1][2]>r;s--)deferred[s]=deferred[s-1];deferred[s]=[e,t,r]},__webpack_require__.n=_=>{var e=_&&_.__esModule?()=>_.default:()=>_;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(_,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(_,t)&&Object.defineProperty(_,t,{enumerable:!0,get:e[t]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(_){if("object"==typeof window)return window}}(),__webpack_require__.o=(_,e)=>Object.prototype.hasOwnProperty.call(_,e),__webpack_require__.j=765,(()=>{var _={765:0};__webpack_require__.O.j=e=>0===_[e];var e=(e,t)=>{var r,a,[n,c,o]=t,s=0;if(n.some(e=>0!==_[e])){for(r in c)__webpack_require__.o(c,r)&&(__webpack_require__.m[r]=c[r]);if(o)var i=o(__webpack_require__)}for(e&&e(t);s<n.length;s++)a=n[s],__webpack_require__.o(_,a)&&_[a]&&_[a][0](),_[a]=0;return __webpack_require__.O(i)},t=self.webpackChunk=self.webpackChunk||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})();var __webpack_exports__=__webpack_require__.O(void 0,[96],()=>__webpack_require__(31099));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();