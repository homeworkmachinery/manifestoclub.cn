"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[33],{71033:(e,t,n)=>{var a=n(49763),r=n.n(a),i=n(16781),s=n.n(i),o=n(39841),c=n.n(o),l=n(66615),d=n.n(l),u=n(26100),p=n.n(u),m=n(96319),f=n.n(m),h=n(78928),v=n.n(h),g=n(36751),b=n.n(g),y=n(25110),w=n.n(y),k=n(53930),x=n.n(k),I=n(49859),T=n(5773),S=n(34963),C=n(44828),A=n.n(C),E=n(56255),R=n.n(E),q=n(14607),H=n.n(q),B=n(36586),P=n.n(B),_=n(61240),O=n.n(_),D=n(50697),L=n.n(D),N=n(86226),M=n.n(N),U=n(38573),z=n.n(U),F=n(11393),K=n.n(F),G=(n(43981),n(8628)),$=n.n(G),Z=n(18979),j=n.n(Z);n(73363),n(57119),n(48079);function W(e,t){var n=L()(e);if(p()){var a=p()(e);t&&(a=f()(a).call(a,function(t){return v()(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n,a,r=null!=arguments[t]?arguments[t]:{};t%2?M()(n=W(Object(r),!0)).call(n,function(t){(0,I.A)(e,t,r[t])}):b()?w()(e,b()(r)):M()(a=W(Object(r))).call(a,function(t){x()(e,t,v()(r,t))})}return e}function Q(e,t){var n=void 0!==s()&&c()(e)||e["@@iterator"];if(!n){if(d()(e)||(n=function(e,t){if(e){var n;if("string"==typeof e)return J(e,t);var a=j()(n={}.toString.call(e)).call(n,8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?r()(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?J(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw o}}}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function V(){return X.apply(this,arguments)}function X(){return(X=(0,S.A)(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ee(),e.next=1,re();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ee(){document.addEventListener("click",te)}function te(e){var t=e.target;if(t.classList.contains("back-button")||t.closest(".back-button")){e.preventDefault();var n=t.closest(".back-button");if(n){var a=n.getAttribute("data-action");"back-to-cart"===a?function(){ge.apply(this,arguments)}():"back-to-shipping"===a&&ve()}}else if(t.classList.contains("quantity-btn")){e.preventDefault();var r=t.getAttribute("data-cart-id"),i=t.getAttribute("data-size"),s=P()(t.getAttribute("data-change"));r&&i&&s&&ce(r,i,s)}else if(t.classList.contains("cart-item-remove")){e.preventDefault();var o=t.getAttribute("data-cart-id");o&&de(o)}else{if(t.classList.contains("proceed-checkout-btn")||"proceedCheckoutBtn"===t.id)return e.preventDefault(),void fe();if(t.classList.contains("cart-btn"))switch(e.preventDefault(),t.getAttribute("data-action")){case"go-home":case"continue-shopping":me();break;case"complete-purchase":!function(){ye.apply(this,arguments)}()}else;}}function ne(){return ae.apply(this,arguments)}function ae(){return(ae=(0,S.A)(A().mark(function e(){var t,n,a,r,i,s,o,c,l,d,u,p,m,f,h,v,g,b,y,w,k,x,I,S,C;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,supabase.auth.getUser();case 1:if(n=e.sent,a=n.data.user){e.next=2;break}return e.abrupt("return");case 2:return e.next=3,supabase.from("cart_items").select("*, drafts(*)").eq("user_id",a.id);case 3:if(r=e.sent,(i=r.data)&&0!==i.length){e.next=4;break}return(s=document.getElementById("cartSummary"))&&(s.style.display="none"),e.abrupt("return");case 4:(o=document.getElementById("cartSummary"))&&(o.style.display="block"),c=0,l={},d=Q(i);try{for(d.s();!(u=d.n()).done;)m=u.value,f=m.price||29.99,h=m.quantity||0,c+=f*h,v="",v=m.type&&$()(p=m.type).call(p,"blank-tshirt")?"BLANK T-SHIRT":m.draft_id&&m.drafts?"CUSTOMIZED T-SHIRT":"T-SHIRT",l[v]||(l[v]=0),l[v]+=h}catch(e){d.e(e)}finally{d.f()}for(g="",b=0,y=z()(l);b<y.length;b++)k=(0,T.A)(y[b],2),x=k[0],I=k[1],g+=K()(w='\n            <div class="summary-item-line">\n                <span>'.concat(I,'x</span>\n                <span style="font-weight: bold;">')).call(w,x,"</span>\n            </div>\n        ");S=K()(t='\n        <h3>ORDER SUMMARY</h3>\n        <br>\n        <div class="summary-items" style="border-bottom: black 2px solid; padding: 10px 0; margin-bottom: 15px;">\n            '.concat(g,'\n        </div>\n        <div class="summary-row">\n            <span>Subtotal:</span>\n            <span id="subtotalAmount">$')).call(t,c.toFixed(2),'</span>\n        </div>\n        <div class="summary-row" id="shippingRow" style="display: none;">\n            <span>Shipping:</span>\n            <span id="shippingAmount">$0.00</span>\n        </div>\n        <div class="summary-row summary-total" id="totalRow" style="display: none;  ">\n            <span>Total:</span>\n            <span id="totalAmount">$0.00</span>\n        </div>\n        <div class="summary-row" id="addressPrompt">\n            <span style="color: black; font-style:italic;  ">Please enter a valid address to calculate total</span>\n        </div>\n        <div class="cart-actions" id="checkoutButtonContainer">\n            <button class="cart-btn primary proceed-checkout-btn" id="proceedCheckoutBtn" >PROCEED TO CHECKOUT</button>\n        </div>\n    '),(C=document.getElementById("cartSummary"))&&(C.innerHTML=S),window.currentSubtotal=c,e.next=6;break;case 5:e.prev=5,e.catch(0);case 6:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function re(){return ie.apply(this,arguments)}function ie(){return(ie=(0,S.A)(A().mark(function e(){var t,n,a,r,i,s,o,c,l,d,u,p,m,f,h,v,g,b,y,w,k,x,I,T,S,C,E,R,q,H,B,P,_,O,D,L,N,M,U,z,F,G,Z,W;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,supabase.auth.getUser();case 1:if(t=e.sent,n=t.data.user){e.next=2;break}return document.getElementById("cartContent").innerHTML='\n            <div class="cart-empty">\n                <h2>Please login first</h2>\n                <button class="cart-btn" data-action="go-home">GO TO LOGIN</button>\n            </div>\n        ',(a=document.getElementById("cartSummary"))&&(a.style.display="none"),e.abrupt("return");case 2:return e.next=3,supabase.from("cart_items").select("\n            *,\n            drafts (\n                id,\n                type,\n                data,\n                front_preview_image,\n                back_preview_image,\n                sizes\n            )\n        ").eq("user_id",n.id).order("added_at",{ascending:!1});case 3:if(r=e.sent,i=r.data,!(s=r.error)){e.next=4;break}throw s;case 4:if(o=document.getElementById("cartContent"),i&&0!==i.length){e.next=5;break}return o.innerHTML='\n            <div class="cart-empty">\n                <h2>Your cart is empty</h2>\n                <p>Add some awesome designs to your cart!</p>\n                <button class="cart-btn" data-action="continue-shopping">CONTINUE SHOPPING</button>\n            </div>\n        ',(c=document.getElementById("cartSummary"))&&(c.style.display="none"),e.abrupt("return");case 5:l='<div class="cart-items">',d=Q(i),e.prev=6,d.s();case 7:if((u=d.n()).done){e.next=13;break}if(S=u.value,C="",E="",R="",q=0,H="white",B="./images/default-tshirt.png",P="./images/default-tshirt.png",S.type&&($()(_=S.type).call(_,"blank-tshirt")?(R="BLANK T-SHIRT",C="blank",H=S.type.replace("blank-tshirt-","")||"white"):$()(O=S.type).call(O,"single-sided")?(R="CUSTOMIZED T-SHIRT",C="single-sided",H=S.type.replace("single-sided-","")||"white"):$()(D=S.type).call(D,"double-sided")?(R="CUSTOMIZED T-SHIRT",C="double-sided",H=S.type.replace("double-sided-","")||"white"):"custom-design"===S.type&&(R="CUSTOMIZED T-SHIRT",C="custom")),S.draft_id&&S.drafts&&((L=S.drafts).data&&L.data.color&&(H=L.data.color),L.front_preview_image&&(B=L.front_preview_image),L.back_preview_image&&(P=L.back_preview_image),!C&&L.data&&(N=L.data.frontImages&&L.data.frontImages.length>0,M=L.data.backImages&&L.data.backImages.length>0,N||M?N&&M?(R="CUSTOMIZED T-SHIRT",C="double-sided"):(R="CUSTOMIZED T-SHIRT",C="single-sided"):(R="BLANK T-SHIRT",C="blank"))),C||(R="BLANK T-SHIRT",C="blank"),"blank"!==C){e.next=11;break}if(B&&"./images/default-tshirt.png"!==B){e.next=9;break}return e.next=8,se(H,"front");case 8:B=e.sent;case 9:if(P&&"./images/default-tshirt.png"!==P){e.next=11;break}return e.next=10,se(H,"back");case 10:P=e.sent;case 11:E="white"===H?"white":"colored",window.TSHIRT_PRICING&&window.TSHIRT_PRICING[C]&&(q=window.TSHIRT_PRICING[C][H]||window.TSHIRT_PRICING[C][E]),q||(q=S.price||29.99),U=S.quantity||0,z=q*U,F="",F="blank"===C?"Blank Design":"double-sided"===C?"Double-Sided Design":"Single-Sided Design",G="white"===H?"White T-Shirt":"".concat(H.charAt(0).toUpperCase()+j()(H).call(H,1)," T-Shirt"),l+=K()(p=K()(m=K()(f=K()(h=K()(v=K()(g=K()(b=K()(y=K()(w=K()(k=K()(x=K()(I=K()(T='\n            <div class="cart-item" data-cart-id="'.concat(S.id,'">\n                \x3c!-- Dual Preview Section --\x3e\n                <div class="cart-item-previews">\n                    <div class="preview-container">\n                        <div class="preview-image">\n                            <img src="')).call(T,B,'" alt="')).call(I,R,' - Front" onerror="this.src=\'./images/default-tshirt.png\'">\n                        </div>\n                    </div>\n                    <div class="preview-container">\n                        <div class="preview-image">\n                            <img src="')).call(x,P,'" alt="')).call(k,R,' - Back" onerror="this.src=\'./images/default-tshirt.png\'">\n                        </div>\n                    </div>\n                </div>\n                \n                \x3c!-- Item Details --\x3e\n                <div class="cart-item-details">\n                    <div class="cart-item-title">')).call(w,R,'</div>\n                    <div class="cart-item-type">\n                        <div>\n                            <span class="type-badge">')).call(y,F,'</span>\n                            <span class="color-indicator">\n                                <span class="color-dot" style="background-color: ')).call(b,"white"===H?"#ffffff":H,'; border: 1px solid #ddd;"></span>\n                                ')).call(g,G,'\n                            </span>\n                        </div>\n                    </div>\n                    \n                    \x3c!-- Size Controls --\x3e\n                    <div class="cart-item-sizes">\n                        ')).call(v,oe(S.id,S.sizes),'\n                    </div>\n                    \n                    \x3c!-- Pricing Information --\x3e\n                    <div class="cart-item-pricing">\n                        <div class="price-row">\n                            <span>Unit Price:</span>\n                            <span>$')).call(h,q.toFixed(2),'</span>\n                        </div>\n                        <div class="price-row">\n                            <span>Quantity:</span>\n                            <span>')).call(f,U,'</span>\n                        </div>\n                        <div class="price-row total">\n                            <span>Subtotal:</span>\n                            <span>$')).call(m,z.toFixed(2),'</span>\n                        </div>\n                    </div>\n                    \n                    <button class="cart-item-remove" data-cart-id="')).call(p,S.id,'">Remove</button>\n                </div>\n            </div>\n        ');case 12:e.next=7;break;case 13:e.next=15;break;case 14:e.prev=14,W=e.catch(6),d.e(W);case 15:return e.prev=15,d.f(),e.finish(15);case 16:return l+="</div>",o.innerHTML=l,e.next=17,ne();case 17:e.next=19;break;case 18:e.prev=18,e.catch(0),document.getElementById("cartContent").innerHTML='\n        <div class="cart-empty">\n            <h2>Error loading cart</h2>\n            <p>Please refresh the page and try again.</p>\n        </div>\n    ',(Z=document.getElementById("cartSummary"))&&(Z.style.display="none");case 19:case"end":return e.stop()}},e,null,[[0,18],[6,14,15,16]])}))).apply(this,arguments)}R()(function(){if("undefined"!=typeof supabase)V();else var e=H()(function(){"undefined"!=typeof supabase&&(clearInterval(e),V())},100)},100);function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"white",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"front";return new(O())(function(n){var a,r=document.createElement("canvas"),i=r.getContext("2d");r.width=100,r.height=125,i.fillStyle="#ffffff",i.fillRect(0,0,r.width,r.height);var s=new Image;s.crossOrigin="anonymous",s.width=100,s.height=125,s.onload=function(){var e=Math.min(r.width/this.naturalWidth,r.height/this.naturalHeight),t=this.naturalWidth*e,a=this.naturalHeight*e,s=(r.width-t)/2,o=(r.height-a)/2;i.drawImage(this,s,o,t,a);var c=r.toDataURL("image/jpeg",.9);n(c)},s.onerror=function(){i.fillStyle="black"===e?"#333333":"#f0f0f0",i.fillRect(0,0,r.width,r.height);var t=r.toDataURL("image/jpeg",.9);n(t)};var o={front:{white:"./images/white-front.png",black:"./images/black-front.png"},back:{white:"./images/white-back.png",black:"./images/black-back.png"}};s.src=(null===(a=o[t])||void 0===a?void 0:a[e])||o.front.white})}function oe(e,t){var n;if(!t||0===L()(t).length)return"<p>No sizes selected</p>";var a="";return M()(n=z()(t)).call(n,function(t){var n,r,i,s,o,c=(0,T.A)(t,2),l=c[0],d=c[1];a+=K()(n=K()(r=K()(i=K()(s=K()(o='\n        <div class="size-quantity-group">\n            <span class="size-label">'.concat(l,':</span>\n            <div class="quantity-controls">\n                <button class="quantity-btn quantity-btn-left" \n                        data-cart-id="')).call(o,e,'" \n                        data-size="')).call(s,l,'" \n                        data-change="-1">-</button>\n                <input type="text" class="quantity-value" value="')).call(i,d,'" readonly>\n                <button class="quantity-btn quantity-btn-right" data-cart-id="')).call(r,e,'" \n                        data-size="')).call(n,l,'" \n                        data-change="1")">+</button>\n            </div>\n        </div>\n    ')}),a}function ce(e,t,n){return le.apply(this,arguments)}function le(){return(le=(0,S.A)(A().mark(function e(t,n,a){var r,i,s;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,supabase.from("cart_items").select("sizes").eq("id",t).single();case 1:if(r=e.sent,i=r.data){e.next=2;break}return e.abrupt("return");case 2:return(s=Y({},i.sizes))[n]=Math.max(0,(s[n]||0)+a),0===s[n]&&delete s[n],e.next=3,updateCartItemQuantity(t,s);case 3:if(!e.sent){e.next=4;break}return e.next=4,re();case 4:e.next=6;break;case 5:e.prev=5,e.catch(0);case 6:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function de(e){return ue.apply(this,arguments)}function ue(){return(ue=(0,S.A)(A().mark(function e(t){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,removeFromCart(t);case 1:if(!e.sent){e.next=2;break}return e.next=2,re();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(){return(pe=(0,S.A)(A().mark(function e(){return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,clearCart();case 1:if(!e.sent){e.next=2;break}return e.next=2,re();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(){"function"==typeof loadPage?loadPage("home"):window.location.href="/home"}function fe(){return he.apply(this,arguments)}function he(){return(he=(0,S.A)(A().mark(function e(){var t,n,a,r,i;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=1,supabase.auth.getUser();case 1:if(t=e.sent,n=t.data.user){e.next=2;break}return alert("Please login to continue"),e.abrupt("return");case 2:return e.next=3,supabase.from("cart_items").select("*").eq("user_id",n.id);case 3:if(a=e.sent,(r=a.data)&&0!==r.length){e.next=4;break}return alert("Your cart is empty"),e.abrupt("return");case 4:i=0,M()(r).call(r,function(e){var t=e.price||29.99,n=e.quantity||0;i+=t*n}),window.currentSubtotal=i,ve(),e.next=6;break;case 5:e.prev=5,e.catch(0),alert("Error proceeding to checkout");case 6:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function ve(){var e=document.querySelector(".cart-header"),t=document.getElementById("cartContent");e&&(e.innerHTML='\n        <h1>SHIPPING INFORMATION</h1>\n        <button class="back-button" data-action="back-to-cart" style="\n            padding: 5px;\n            border: 2px solid black;\n            background: white;\n            cursor: pointer;\n            font-size: 14px;\n        ">‚Üê BACK TO CART</button>\n    ');t.innerHTML='\n    <style>\n        .checkout-form-container {\n            background: white;\n            padding: 0;\n        }\n        \n        .checkout-form {\n            max-width: 100%;\n        }\n        \n        .form-group {\n            margin-bottom: 20px;\n        }\n        \n        .form-group label {\n            display: block;\n            margin-bottom: 8px;\n            font-weight: bold;\n            font-size: 14px;\n        }\n        \n        .form-group input,\n        .form-group select {\n            width: 100%;\n            padding: 10px;\n            border: 2px solid black;\n            font-size: 14px;\n            background: white;\n        }\n        \n        .form-group input:focus,\n        .form-group select:focus {\n            outline: none;\n            border-color: #555;\n        }\n        \n        .form-row {\n            display: flex;\n            gap: 20px;\n        }\n        \n        .form-row .form-group {\n            flex: 1;\n        }\n        \n        \n   \n        \n        .required-asterisk {\n            color: red;\n        }\n        \n    \n    </style>\n    \n    <div class="checkout-form-container">\n        <form id="checkoutForm" class="checkout-form">\n            <div class="form-group">\n                <label>Full Name <span class="required-asterisk">*</span></label>\n                <input type="text" id="fullName" name="fullName" required placeholder="Enter your full name">\n            </div>\n            \n            <div class="form-group">\n                <label>Email Address <span class="required-asterisk">*</span></label>\n                <input type="email" id="email" name="email" required placeholder="your@email.com">\n            </div>\n            \n            <div class="form-group">\n                <label>Phone Number <span class="required-asterisk">*</span></label>\n                <input type="tel" id="phone" name="phone" required placeholder="+86">\n            </div>\n            \n            <h3 style="margin-top: 30px; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid black;">DELIVERY ADDRESS</h3>\n            \n            <div class="form-group">\n                <label>Address Line 1 <span class="required-asterisk">*</span></label>\n                <input type="text" id="address1" name="address1" required placeholder="Street address, P.O. box">\n            </div>\n            \n            <div class="form-group">\n                <label>Address Line 2</label>\n                <input type="text" id="address2" name="address2" placeholder="Apartment, suite, unit, building, floor, etc.">\n            </div>\n            \n            <div class="form-row">\n                <div class="form-group">\n                    <label>City <span class="required-asterisk">*</span></label>\n                    <input type="text" id="city" name="city" required placeholder="City">\n                </div>\n                <div class="form-group">\n                    <label>State/Province <span class="required-asterisk">*</span></label>\n                    <input type="text" id="state" name="state" required placeholder="State or Province">\n                </div>\n            </div>\n            \n            <div class="form-row">\n                <div class="form-group">\n                    <label>ZIP/Postal Code <span class="required-asterisk">*</span></label>\n                    <input type="text" id="zipCode" name="zipCode" required placeholder="12345">\n                </div>\n                <div class="form-group">\n                    <label>Country <span class="required-asterisk">*</span></label>\n                    <select id="country" name="country" required>\n                        <option value="">Select Country</option>\n                        <option value="CN">China (Mainland)</option>\n<option value="HK">Hong Kong (China)</option>\n<option value="TW">Taiwan (China)</option>\n<option value="JP">Japan</option>\n                        <option value="UK">United Kingdom</option>\n                        <option value="US">United States</option>                                         \n                        <option value="OTHER">Other</option>\n                    </select>\n                </div>\n            </div>\n            \n       \n        </form>\n    </div>\n',document.getElementById("checkoutForm").addEventListener("submit",function(){var e=(0,S.A)(A().mark(function e(t){var n,a;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=new FormData(t.target),a={fullName:n.get("fullName"),email:n.get("email"),phone:n.get("phone"),address1:n.get("address1"),address2:n.get("address2"),city:n.get("city"),state:n.get("state"),zipCode:n.get("zipCode"),country:n.get("country")},window.checkoutAddress=a,be(a);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}function ge(){return(ge=(0,S.A)(A().mark(function e(){var t,n,a,r,i;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.querySelector(".cart-header"))&&(t.innerHTML="<h1>SHOPPING CART</h1>"),e.next=1,re();case 1:(n=document.getElementById("checkoutButtonContainer"))&&(n.style.display="block"),a=document.getElementById("shippingRow"),r=document.getElementById("totalRow"),i=document.getElementById("addressPrompt"),a&&(a.style.display="none"),r&&(r.style.display="none"),i&&(i.style.display="block");case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function be(e){var t=10;e.country&&"US"!==e.country&&(t=25);var n=(window.currentSubtotal||0)+t,a=document.getElementById("shippingRow"),r=document.getElementById("totalRow"),i=document.getElementById("addressPrompt");a&&(a.style.display="flex"),r&&(r.style.display="flex"),i&&(i.style.display="none");var s=document.getElementById("shippingAmount"),o=document.getElementById("totalAmount");s&&(s.textContent="$".concat(t.toFixed(2))),o&&(o.textContent="$".concat(n.toFixed(2))),window.shippingCost=t,window.orderTotal=n}function ye(){return(ye=(0,S.A)(A().mark(function e(){var t,n;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Order placed successfully! (Payment processing will be integrated)"),e.next=1,supabase.auth.getUser();case 1:if(t=e.sent,!(n=t.data.user)){e.next=4;break}return e.next=2,supabase.from("cart_items").delete().eq("user_id",n.id);case 2:return e.next=3,re();case 3:if(!window.CartManager){e.next=4;break}return e.next=4,window.CartManager.updateCartBadge();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.updateQuantity=ce,window.removeItem=de,window.clearAllItems=function(){return pe.apply(this,arguments)},window.proceedToCheckout=fe,window.goToHome=me}}]);